---
sidebar_position: 2
---

> 内存屏障保证锁的**可见性**和**一致性**
> 
> 单纯的锁只能保证原子性，即只有一个线程能够进入

## 保障可见性

- 加载屏障（Load Barrier）
  - 刷新处理器缓存
  - java虚拟机在释放锁之后，插入一个加载屏障
- 存储屏障（Store Barrier）
  - 冲刷处理器缓存
  - java虚拟机在申请锁之后，插入一个存储屏障

## 保障有序性

- 获取屏障（Acquire Barrier）
  - 读操作之后插入，禁止该读操作与其后的任何读写操作之间进行重排序
- 释放屏障（Release Barrier）
  - 写操作之前插入，禁止该操作与其前面的任何读写操作之间进行重排序
