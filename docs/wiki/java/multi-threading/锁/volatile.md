---
sidebar_position: 3
---

>"volatile"字面意思是不稳定，
> 修饰的变量容易被其他线程更改。

## 作用

保障可见性、保障有序性、保障long/double类型的原子性。

> 无法保障原子性
> 
> 获取屏障确保你“进门”后看到的是最新的真相；释放屏障确保你“出门”前把留下的成果写在公板上。

## 原理

- 写线程对volatile变量操作，类似于释放锁；写前插入释放屏障，之后插入存储屏障
- 读线程对volatile变量操作，类似于获得锁；读前插入加载屏障，之后插入获取屏障